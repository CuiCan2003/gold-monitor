# ✅ 部署清单

## 📋 准备工作检查

- [ ] 已安装GitHub Desktop
- [ ] 已有GitHub账号
- [ ] 已有Vercel账号(或准备用GitHub登录)
- [ ] 已有域名(可选)

## 🚀 部署步骤

### 步骤1: GitHub Desktop 上传 (5分钟)

1. 打开 **GitHub Desktop**
2. 点击 `File` → `New Repository`
3. 填写:
   - **Name**: `commodity-price-monitor`
   - **Local Path**: `D:\API\大宗商品价格监控`
   - **Initialize with README**: 不勾选(我们已有README)
4. 点击 `Create Repository`
5. 点击 `Publish repository`
6. 确认仓库名，点击 `Publish Repository`

✅ **代码已上传到GitHub!**

---

### 步骤2: Vercel部署 (3分钟)

1. 访问 https://vercel.com
2. 点击 `Continue with GitHub` 登录
3. 点击 `Add New` → `Project`
4. 找到并点击 `commodity-price-monitor`
5. 点击 `Import`
6. 保持所有默认设置
7. 点击 `Deploy`

⏳ 等待1-2分钟...

✅ **部署成功！**

你会得到类似这样的链接：
```
https://commodity-price-monitor-xxx.vercel.app
```

---

### 步骤3: 测试网站 (2分钟)

#### 3.1 测试API
浏览器打开: `你的域名/api/prices`

应该看到JSON数据：
```json
{
  "success": true,
  "data": [
    {"code": "AU9999_BUY", "name": "黄金(买)", "price": 971.0, ...},
    {"code": "SILVER_BUY", "name": "白银(买)", "price": 11.76, ...}
  ]
}
```

#### 3.2 测试主页
浏览器打开: `你的域名`

应该看到:
- ✅ 6个价格卡片
- ✅ 黄金显示约971元/克
- ✅ 白银显示约11.76元/克
- ✅ BTC和ETH显示币安价格
- ✅ 每秒自动更新
- ✅ 可以切换CNY/USD

---

### 步骤4: 绑定域名 (可选, 10分钟)

1. Vercel项目页面 → `Settings` → `Domains`
2. 输入你的域名: `gold.你的域名.com`
3. 点击 `Add`
4. Vercel会提示你添加DNS记录

#### 在域名商后台:
- **记录类型**: CNAME
- **主机记录**: gold
- **记录值**: cname.vercel-dns.com
- **TTL**: 10分钟

⏳ 等待5-30分钟DNS生效

✅ **域名绑定成功！**

---

## 🎯 必需文件清单

### ✅ 已准备好的文件:

```
✅ api/prices.py              (Python后端API)
✅ public/index.html          (主页面)
✅ public/styles.css          (样式)
✅ public/script.js           (前端逻辑)
✅ vercel.json               (Vercel配置)
✅ requirements.txt          (Python依赖)
✅ .gitignore                (Git忽略文件)
✅ README.md                 (项目说明)
✅ DEPLOYMENT.md             (详细部署指南)
```

所有文件已就绪，可以直接部署！

---

## ⚠️ 可能遇到的问题

### 问题1: API返回404
**解决**:
1. 检查`api/prices.py`是否存在
2. 重新部署: Vercel Dashboard → Redeploy

### 问题2: 黄金白银价格不显示
**解决**:
1. 单独访问`/api/prices`检查数据
2. 查看浏览器Console (F12)
3. 查看Vercel Functions日志

### 问题3: BTC/ETH显示但金银不显示
**解决**:
1. 可能是WebSocket连接超时
2. 检查Vercel Function Logs
3. Python依赖是否正确安装

### 问题4: GitHub Desktop找不到改动
**解决**:
1. 确认文件在正确的目录
2. 检查`.gitignore`是否误过滤

---

## 🔄 更新流程

### 修改代码后:

1. **打开GitHub Desktop**
2. **查看改动** (左侧显示所有修改的文件)
3. **填写Summary**: 例如 "更新价格API"
4. **点击 `Commit to main`**
5. **点击 `Push origin`** (右上角)

✅ **Vercel会自动检测并重新部署！**

---

## 📞 快速帮助

### 查看部署日志:
1. Vercel Dashboard
2. 选择你的项目
3. `Deployments` → 点击最新的部署
4. 查看Build Logs

### 查看函数日志:
1. Vercel Dashboard
2. 选择你的项目
3. `Functions` → 点击 `prices.py`
4. 查看Runtime Logs

---

## 🎉 部署完成后

你的网站现在:

✅ 实时显示黄金白银价格(来自你的Python代码)
✅ 实时显示BTC/ETH价格(币安API)
✅ 每秒自动更新
✅ 支持CNY/USD切换
✅ 完全无需CORS插件
✅ 任何人都可以访问

**后续只需通过GitHub Desktop更新代码即可！**

---

**预计总耗时: 10-20分钟**

**祝你部署顺利！** 🚀
