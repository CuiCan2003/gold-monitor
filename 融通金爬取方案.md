# 🔍 融通金网站价格爬取完整方案

## 网站信息
- URL: https://i.jzj9999.com/quoteh5/?ivk_sa=1025883i
- 类型: 移动端H5页面
- 数据: 实时黄金、白银价格
- 域名: i.jzj9999.com (移动版) / www.jzj9999.com (主站)

---

## 🎯 方案一: 使用浏览器开发者工具手动查找API (最可靠)

### 详细步骤:

**第1步: 打开开发者工具**
1. 打开Chrome/Edge浏览器
2. 访问: https://i.jzj9999.com/quoteh5/?ivk_sa=1025883i
3. 按 `F12` 打开开发者工具
4. 或者右键 → 检查

**第2步: 切换到Network标签**
1. 点击顶部的 **"Network"** (网络) 标签
2. 确保红色录制按钮是亮的 🔴
3. 勾选 **"Preserve log"** (保留日志)

**第3步: 过滤请求**
1. 在过滤框中输入: **XHR** (只显示数据请求)
2. 或者在搜索框输入: **quote** 或 **price** 或 **gold**

**第4步: 刷新页面**
1. 按 `F5` 或 `Ctrl+R` 刷新页面
2. 观察Network标签中出现的请求

**第5步: 找到价格数据请求**
查找以下特征的请求:
- ✅ 文件名包含: quote, price, data, api, gold
- ✅ Type类型: xhr 或 fetch
- ✅ 返回格式: json

**第6步: 查看请求详情**
1. 点击可疑的请求
2. 切换到 **"Response"** (响应) 标签
3. 查看是否包含价格数据 (如: 485.50, 10.20等数字)

**第7步: 复制API地址**
找到正确的请求后:
1. 右键点击该请求
2. Copy → Copy URL
3. 把URL发给我!

---

## 🎯 方案二: 使用我提供的测试页面

我会创建一个特殊的测试页面,帮你分析可能的API端点。

### 常见的API模式:

基于移动端H5网站的经验,API可能是:

```
https://i.jzj9999.com/api/quote
https://i.jzj9999.com/api/realtime
https://i.jzj9999.com/api/price/latest
https://i.jzj9999.com/quoteh5/api/data
https://api.jzj9999.com/v1/quote
https://www.jzj9999.com/api/h5/quote
https://i.jzj9999.com/h5api/price
```

---

## 🎯 方案三: CORS代理方案

如果找到了API但有跨域限制,可以使用代理:

### 选项A: 使用免费CORS代理
```javascript
const API_URL = 'https://i.jzj9999.com/api/quote';
const PROXY_URL = 'https://cors-anywhere.herokuapp.com/';

fetch(PROXY_URL + API_URL)
    .then(response => response.json())
    .then(data => console.log(data));
```

### 选项B: 创建自己的代理 (Vercel)
我可以帮你在Vercel上部署一个简单的代理服务。

---

## 🎯 方案四: 使用Puppeteer/Playwright爬取

如果API无法直接访问,可以使用无头浏览器:

### Vercel Serverless函数示例:

```javascript
// api/gold-price.js
const puppeteer = require('puppeteer-core');
const chromium = require('@sparticuz/chromium');

module.exports = async (req, res) => {
    const browser = await puppeteer.launch({
        args: chromium.args,
        executablePath: await chromium.executablePath(),
        headless: true,
    });

    const page = await browser.newPage();
    await page.goto('https://i.jzj9999.com/quoteh5/?ivk_sa=1025883i');

    // 等待价格元素加载
    await page.waitForSelector('.price');

    // 提取价格数据
    const data = await page.evaluate(() => {
        return {
            gold: document.querySelector('.gold-price').innerText,
            silver: document.querySelector('.silver-price').innerText,
        };
    });

    await browser.close();

    res.json(data);
};
```

---

## 🎯 方案五: WebSocket监听

有些网站使用WebSocket推送实时数据:

### 检查WebSocket:
1. F12 → Network → WS标签
2. 刷新页面
3. 查看是否有WebSocket连接
4. 点击查看推送的消息内容

---

## 📱 推荐的操作流程

### 第一步: 手动查找API (今天完成)
1. 使用方案一查找API接口
2. 截图发给我,或者复制URL
3. 我帮你编写集成代码

### 第二步: 测试API (立即)
找到URL后,在浏览器地址栏直接访问:
```
https://找到的API地址
```
看是否返回JSON数据

### 第三步: 集成到网站 (我来做)
- 如果是公开API: 直接调用
- 如果有CORS限制: 使用代理
- 如果完全无法访问: 使用Serverless爬取

---

## 🔧 需要你做的事情

### 方法A: 截图法 (最简单)
1. 打开网站
2. F12 → Network → XHR
3. 刷新页面
4. 截图整个Network面板
5. 发给我!

### 方法B: 复制URL法
1. 按照"方案一"的步骤
2. 找到包含价格数据的请求
3. 右键 → Copy → Copy URL
4. 发给我!

### 方法C: 录制视频法
1. 打开网站
2. 开启屏幕录制
3. F12 → Network → 刷新页面
4. 点击几个请求展示Response
5. 发给我视频!

---

## 💡 常见问题

**Q: 如果找不到API请求怎么办?**
A: 可能数据是通过WebSocket推送的,或者嵌在HTML中。把截图发给我,我帮你分析。

**Q: 找到API了但是返回403/401?**
A: 可能需要认证Token或特殊Headers,截图给我看Request Headers。

**Q: API返回的数据看不懂?**
A: 把Response内容复制给我,我帮你解析。

**Q: 有跨域限制怎么办?**
A: 我可以帮你创建CORS代理或Serverless函数。

---

## 🎁 我为你准备的工具

接下来我会创建:
1. ✅ API测试页面 - 自动测试多个可能的端点
2. ✅ 抓包教学视频截图工具
3. ✅ CORS代理模板
4. ✅ Serverless爬虫代码

---

## ⏰ 现在开始!

**请立即执行以下操作:**

1. 打开Chrome浏览器
2. 访问: https://i.jzj9999.com/quoteh5/?ivk_sa=1025883i
3. 按F12
4. 切换到Network → XHR
5. 刷新页面
6. 截图或复制URL
7. **发给我!**

我等你的截图或API URL! 🚀
